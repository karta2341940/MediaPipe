let e,t;var n,o=globalThis,a={},r={},d=o.parcelRequire4ef1;null==d&&((d=function(e){if(e in a)return a[e].exports;if(e in r){var t=r[e];delete r[e];var n={id:e,exports:{}};return a[e]=n,t.call(n.exports,n,n.exports),n.exports}var o=Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},o.parcelRequire4ef1=d),d.register;var i=d("3HXpN");document.getElementById("demos"),document.getElementById("image-blend-shapes"),document.getElementById("video-blend-shapes");let c="VIDEO";const s="480px";console.log("Load OK"),async function(){let t=await (0,i.FilesetResolver).forVisionTasks("https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@0.10.0/wasm");e=await (0,i.FaceLandmarker).createFromOptions(t,{baseOptions:{modelAssetPath:"https://storage.googleapis.com/mediapipe-models/face_landmarker/face_landmarker/float16/1/face_landmarker.task",delegate:"GPU"},outputFaceBlendshapes:!0,runningMode:c,numFaces:1})}();const l=document.querySelector(".video2"),m=document.querySelector(".canvas2"),E=m.getContext("2d");function F(e){let t=e.target.value;navigator.mediaDevices.getUserMedia({video:{deviceId:t}}).then(e=>{l.srcObject=e,l.addEventListener("loadeddata",L)})}(null===(n=navigator.mediaDevices)||void 0===n?void 0:n.getUserMedia)&&document.querySelector("button").addEventListener("click",function(e){let t=document.querySelector("#video-select2");t.innerHTML="",navigator.mediaDevices.enumerateDevices().then(e=>{e.forEach((e,n)=>{"videoinput"===e.kind&&(t.addEventListener("change",F),t.addEventListener("click",F),t.innerHTML+=`<option value="${e.deviceId}">${e.label}</option>`,console.log(e.deviceId))})}),console.log("enableCam")});let u=-1;const v=new i.DrawingUtils(E);async function L(){let n=l.videoHeight/l.videoWidth;l.style.width=s+"px",l.style.height=s*n+"px",m.style.width=s+"px",m.style.height=s*n+"px",m.width=l.videoWidth,m.height=l.videoHeight,"IMAGE"===c&&(c="VIDEO",await e.setOptions({runningMode:c}));let o=performance.now();if(u!==l.currentTime&&(u=l.currentTime,t=e.detectForVideo(l,o)),t.faceLandmarks)for(let e of t.faceLandmarks)v.drawConnectors(e,i.FaceLandmarker.FACE_LANDMARKS_TESSELATION,{color:"#C0C0C070",lineWidth:1}),v.drawConnectors(e,i.FaceLandmarker.FACE_LANDMARKS_RIGHT_EYE,{color:"#FF3030"}),v.drawConnectors(e,i.FaceLandmarker.FACE_LANDMARKS_RIGHT_EYEBROW,{color:"#FF3030"}),v.drawConnectors(e,i.FaceLandmarker.FACE_LANDMARKS_LEFT_EYE,{color:"#30FF30"}),v.drawConnectors(e,i.FaceLandmarker.FACE_LANDMARKS_LEFT_EYEBROW,{color:"#30FF30"}),v.drawConnectors(e,i.FaceLandmarker.FACE_LANDMARKS_FACE_OVAL,{color:"#E0E0E0"}),v.drawConnectors(e,i.FaceLandmarker.FACE_LANDMARKS_LIPS,{color:"#E0E0E0"}),v.drawConnectors(e,i.FaceLandmarker.FACE_LANDMARKS_RIGHT_IRIS,{color:"#FF3030"}),v.drawConnectors(e,i.FaceLandmarker.FACE_LANDMARKS_LEFT_IRIS,{color:"#30FF30"});window.requestAnimationFrame(L)}
//# sourceMappingURL=index.62500ced.js.map
