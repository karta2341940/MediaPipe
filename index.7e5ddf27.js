let e,a;var r,o=globalThis,t={},n={},d=o.parcelRequire4ef1;null==d&&((d=function(e){if(e in t)return t[e].exports;if(e in n){var a=n[e];delete n[e];var r={id:e,exports:{}};return t[e]=r,a.call(r.exports,r,r.exports),r.exports}var o=Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,a){n[e]=a},o.parcelRequire4ef1=d),d.register;var i=d("3HXpN");document.getElementById("demos"),document.getElementById("image-blend-shapes"),document.getElementById("video-blend-shapes");let c="VIDEO";const s="480px";console.log("Load OK"),async function(){let a=await (0,i.FilesetResolver).forVisionTasks("https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@0.10.0/wasm");e=await (0,i.FaceLandmarker).createFromOptions(a,{baseOptions:{modelAssetPath:"https://storage.googleapis.com/mediapipe-models/face_landmarker/face_landmarker/float16/1/face_landmarker.task",delegate:"GPU"},outputFaceBlendshapes:!0,runningMode:c,numFaces:1})}();const l=document.querySelector(".video2"),m=document.querySelector(".canvas2"),F=m.getContext("2d");(null===(r=navigator.mediaDevices)||void 0===r?void 0:r.getUserMedia)&&document.querySelector("button").addEventListener("click",function(e){navigator.mediaDevices.getUserMedia({video:!0}).then(e=>{l.srcObject=e,l.addEventListener("loadeddata",L)}),console.log("enableCam")});let E=-1;const A=new i.DrawingUtils(F);async function L(){let r=l.videoHeight/l.videoWidth;l.style.width=s+"px",l.style.height=s*r+"px",m.style.width=s+"px",m.style.height=s*r+"px",m.width=l.videoWidth,m.height=l.videoHeight,"IMAGE"===c&&(c="VIDEO",await e.setOptions({runningMode:c}));let o=performance.now();if(E!==l.currentTime&&(E=l.currentTime,a=e.detectForVideo(l,o)),a.faceLandmarks)for(let e of a.faceLandmarks)A.drawConnectors(e,i.FaceLandmarker.FACE_LANDMARKS_TESSELATION,{color:"#C0C0C070",lineWidth:1}),A.drawConnectors(e,i.FaceLandmarker.FACE_LANDMARKS_RIGHT_EYE,{color:"#FF3030"}),A.drawConnectors(e,i.FaceLandmarker.FACE_LANDMARKS_RIGHT_EYEBROW,{color:"#FF3030"}),A.drawConnectors(e,i.FaceLandmarker.FACE_LANDMARKS_LEFT_EYE,{color:"#30FF30"}),A.drawConnectors(e,i.FaceLandmarker.FACE_LANDMARKS_LEFT_EYEBROW,{color:"#30FF30"}),A.drawConnectors(e,i.FaceLandmarker.FACE_LANDMARKS_FACE_OVAL,{color:"#E0E0E0"}),A.drawConnectors(e,i.FaceLandmarker.FACE_LANDMARKS_LIPS,{color:"#E0E0E0"}),A.drawConnectors(e,i.FaceLandmarker.FACE_LANDMARKS_RIGHT_IRIS,{color:"#FF3030"}),A.drawConnectors(e,i.FaceLandmarker.FACE_LANDMARKS_LEFT_IRIS,{color:"#30FF30"});window.requestAnimationFrame(L)}
//# sourceMappingURL=index.7e5ddf27.js.map
